<ribbon:DXRibbonWindow
    x:Class="FreemindTrader.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:StockSharp.Studio.Controls;assembly=StockSharp.Studio.Controls"
    xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
    xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
    xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
    xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:loc="clr-namespace:StockSharp.Localization;assembly=StockSharp.Localization"
    xmlns:ribbon="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
    xmlns:terminal="clr-namespace:FreemindTrader"
    xmlns:xaml="http://schemas.stocksharp.com/xaml"
    Closing="MainWindow_OnClosing"
    DataContext="{Binding RelativeSource={RelativeSource Self}}"
    DisplayShowModeSelector="True"
    Loaded="MainWindow_OnLoaded"
    Title="Freemind Trader"
    UseLayoutRounding="True"
    WindowState="Maximized">
    <UIElement.CommandBindings>
        <CommandBinding
            CanExecute="ConnectorSettingsCommand_OnCanExecute"
            Command="{x:Static terminal:MainWindow.ConnectorSettingsCommand}"
            Executed="ConnectorSettingsCommand_OnExecuted" />
        <CommandBinding
            CanExecute="ConnectDisconnectCommand_OnCanExecute"
            Command="{x:Static terminal:MainWindow.ConnectDisconnectCommand}"
            Executed="ConnectDisconnectCommand_OnExecuted" />
        <CommandBinding Command="{x:Static terminal:MainWindow.HelpCommand}" Executed="HelpCommand_OnExecuted" />
        <CommandBinding Command="{x:Static terminal:MainWindow.AboutCommand}" Executed="AboutCommand_OnExecuted" />
        <CommandBinding Command="{x:Static terminal:MainWindow.QuestionCommand}" Executed="QuestionCommand_OnExecuted" />
        <CommandBinding Command="{x:Static terminal:MainWindow.CommonSettingsCommand}" Executed="CommonSettingsCommand_OnExecuted" />
        <CommandBinding Command="{x:Static terminal:MainWindow.TargetPlatformCommand}" Executed="TargetPlatformCommand_OnExecuted" />
        <CommandBinding Command="{x:Static terminal:MainWindow.ResetSettingsCommand}" Executed="ResetSettingsCommand_OnExecuted" />
        <CommandBinding
            CanExecute="SecuritiesMapping_OnCanExecute"
            Command="{x:Static terminal:MainWindow.SecuritiesMappingCommand}"
            Executed="SecuritiesMapping_OnExecuted" />
        <CommandBinding
            CanExecute="PortfoliosMapping_OnCanExecute"
            Command="{x:Static terminal:MainWindow.PortfoliosMappingCommand}"
            Executed="PortfoliosMapping_OnExecuted" />
        <CommandBinding
            CanExecute="EmulationSettingsCommand_OnCanExecute"
            Command="{x:Static terminal:MainWindow.EmulationSettingsCommand}"
            Executed="EmulationSettingsCommand_OnExecuted" />
        <CommandBinding Command="{x:Static terminal:MainWindow.AddWorkAreaCommand}" Executed="AddWorkAreaCommand_OnExecuted" />
        <CommandBinding
            CanExecute="RenameAreaCommand_OnCanExecute"
            Command="{x:Static terminal:MainWindow.RenameAreaCommand}"
            Executed="RenameAreaCommand_OnExecuted" />
        <CommandBinding Command="{x:Static terminal:MainWindow.BugReportCommand}" Executed="BugReportCommand_OnExecuted" />
    </UIElement.CommandBindings>
    <dxb:BarManager>
        <Grid Margin="3">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <ribbon:RibbonControl
                x:Name="Ribbon"
                Grid.Row="0"
                DockPanel.Dock="Top"
                RibbonStyle="Office2019"
                ShowApplicationButton="False"
                ToolbarShowMode="Hide">
                <ribbon:RibbonDefaultPageCategory>
                    <ribbon:RibbonPage x:Name="RibbonCommonTab" Caption="{x:Static loc:LocalizedStrings.Common}">
                        <ribbon:RibbonPageGroup>
                            <dxb:BarSplitButtonItem
                                x:Name="ConnectButton"
                                Command="{x:Static terminal:MainWindow.ConnectDisconnectCommand}"
                                Content="{x:Static loc:LocalizedStrings.Connect}"
                                LargeGlyph="{xaml:ThemedIcons Key=Connect}"
                                ToolTip="{x:Static loc:LocalizedStrings.Connect}">
                                <dxb:BarSplitButtonItem.PopupControl>
                                    <dxb:PopupMenu>
                                        <dxb:PopupMenu.Items>
                                            <dxb:BarButtonItem
                                                Command="{x:Static terminal:MainWindow.ConnectorSettingsCommand}"
                                                Content="{x:Static loc:LocalizedStrings.ConnectionSettings}"
                                                Glyph="{xaml:ThemedIcons Key=Settings}"
                                                ToolTip="{x:Static loc:LocalizedStrings.ConnectionSettings}" />
                                            <dxb:BarButtonItem
                                                Command="{x:Static terminal:MainWindow.EmulationSettingsCommand}"
                                                Content="{x:Static loc:LocalizedStrings.SimulatorSettings}"
                                                Glyph="{xaml:ThemedIcons Key=Game}"
                                                ToolTip="{x:Static loc:LocalizedStrings.SimulatorSettings}" />
                                            <dxb:BarButtonItem
                                                Command="{x:Static terminal:MainWindow.SecuritiesMappingCommand}"
                                                Content="{x:Static loc:LocalizedStrings.SecuritiesAndConnections}"
                                                Glyph="{xaml:ThemedIcons Key=Certificate}"
                                                ToolTip="{x:Static loc:LocalizedStrings.SecuritiesAndConnections}" />
                                            <dxb:BarButtonItem
                                                Command="{x:Static terminal:MainWindow.PortfoliosMappingCommand}"
                                                Content="{x:Static loc:LocalizedStrings.XamlStr509}"
                                                Glyph="{xaml:ThemedIcons Key=Money}"
                                                ToolTip="{x:Static loc:LocalizedStrings.XamlStr332}" />
                                        </dxb:PopupMenu.Items>
                                    </dxb:PopupMenu>
                                </dxb:BarSplitButtonItem.PopupControl>
                            </dxb:BarSplitButtonItem>
                            <dxb:BarSplitButtonItem
                                x:Name="SettingsButton"
                                ActAsDropDown="False"
                                Command="{x:Static terminal:MainWindow.CommonSettingsCommand}"
                                Content="{x:Static loc:LocalizedStrings.Settings}"
                                LargeGlyph="{xaml:ThemedIcons Key=Settings}"
                                ToolTip="{x:Static loc:LocalizedStrings.Settings}">
                                <dxb:BarSplitButtonItem.PopupControl>
                                    <dxb:PopupMenu>
                                        <dxb:BarButtonItem
                                            Command="{x:Static terminal:MainWindow.TargetPlatformCommand}"
                                            Content="{x:Static loc:LocalizedStrings.XamlStr610}"
                                            Glyph="{xaml:ThemedIcons Key=Worlwide}" />
                                        <dxb:BarButtonItem
                                            Command="{x:Static terminal:MainWindow.ResetSettingsCommand}"
                                            Content="{x:Static loc:LocalizedStrings.Str1520}"
                                            Glyph="{xaml:ThemedIcons Key=Refresh}" />
                                    </dxb:PopupMenu>
                                </dxb:BarSplitButtonItem.PopupControl>
                            </dxb:BarSplitButtonItem>
                        </ribbon:RibbonPageGroup>
                        <ribbon:RibbonPageGroup x:Name="RibbonToolControlsGroup" Caption="{x:Static loc:LocalizedStrings.XamlStr252}">
                            <dxb:BarButtonItem
                                x:Name="TradeStation"
                                Content="Trade Station"
                                IsVisible="False"
                                ItemClick="TradeStation_ItemClick" LargeGlyph="{dx:DXImage SvgImages/Business Objects/BO_Opportunity.svg}" />
                            <dxb:BarButtonItem
                                x:Name="FreemindResult"
                                Content="Freemind Result"
                                IsVisible="False"
                                ItemClick="FreemindResult_ItemClick"
                                LargeGlyph="{dx:SvgImageSource Uri=./SvgImages/fmResult.svg}" />
                            <dxb:BarButtonItem
                                Command="{x:Static terminal:MainWindow.AddWorkAreaCommand}"
                                Content="{x:Static loc:LocalizedStrings.Area}"
                                LargeGlyph="{xaml:ThemedIcons Key=Add}"
                                ToolTip="{x:Static loc:LocalizedStrings.CreateWorkArea}" />
                        </ribbon:RibbonPageGroup>
                        <ribbon:RibbonPageGroup
                            x:Name="RibbonComponentsGroup"
                            AllowCollapse="True"
                            Caption="{x:Static loc:LocalizedStrings.XamlStr252}"
                            IsEnabled="False">
                            <controls:ControlsGallery x:Name="ControlGallery" />
                        </ribbon:RibbonPageGroup>
                        <ribbon:RibbonPageGroup Caption="{x:Static loc:LocalizedStrings.Help2}">
                            <dxb:BarButtonItem
                                Command="{x:Static terminal:MainWindow.HelpCommand}"
                                Content="{x:Static loc:LocalizedStrings.Help}"
                                LargeGlyph="{xaml:ThemedIcons Key=Help}" />
                            <dxb:BarButtonItem
                                Command="{x:Static terminal:MainWindow.BugReportCommand}"
                                Content="{x:Static loc:LocalizedStrings.ReportProblem}"
                                LargeGlyph="{xaml:ThemedIcons Key=BugReport}" />
                            <dxb:BarButtonItem
                                Command="{x:Static terminal:MainWindow.QuestionCommand}"
                                Content="{x:Static loc:LocalizedStrings.ContactUs}"
                                LargeGlyph="{xaml:ThemedIcons Key=Chat}" />
                            <dxb:BarButtonItem
                                Command="{x:Static terminal:MainWindow.AboutCommand}"
                                Content="{x:Static loc:LocalizedStrings.About}"
                                LargeGlyph="{xaml:ThemedIcons Key=Home}" />
                        </ribbon:RibbonPageGroup>
                    </ribbon:RibbonPage>
                </ribbon:RibbonDefaultPageCategory>
            </ribbon:RibbonControl>
            <controls:StatusBarPanel x:Name="StatusBarPanel" Grid.Row="2" />
            <dxdo:DockLayoutManager
                x:Name="DockingManager"
                Grid.Row="1"
                AllowDockItemRename="True"
                ClosingBehavior="ImmediatelyRemove"
                DockingStyle="VS2010"
                DockItemActivated="DockingManager_OnDockItemActivated"
                DockItemClosed="DockingManager_OnDockItemClosed"
                FloatingDocumentContainer="DocumentHost"
                FloatingMode="Desktop"
                LayoutItemActivated="DockingManager_OnLayoutItemActivated">
                <dxdo:DockLayoutManager.ContextMenuCustomizations>
                    <dxb:BarButtonItem
                        x:Name="bRename"
                        Command="{x:Static terminal:MainWindow.RenameAreaCommand}"
                        Content="{x:Static terminal:MainWindow.RenameCommandTitle}"
                        dxb:BarItemLinkActionBase.ItemLinkIndex="0" />
                    <dxb:InsertBarItemLinkAction ItemLinkIndex="1">
                        <dxb:BarItemLinkSeparator />
                    </dxb:InsertBarItemLinkAction>
                </dxdo:DockLayoutManager.ContextMenuCustomizations>
                <dxdo:LayoutGroup Name="Root" TabContentCacheMode="CacheAllTabs">
                    <dxdo:DocumentGroup
                        AutoScrollOnOverflow="PartiallyVisibleItem"
                        ClosePageButtonShowMode="InAllTabPageHeaders"
                        DestroyOnClosingChildren="False"
                        Name="DocumentHost" />
                </dxdo:LayoutGroup>
            </dxdo:DockLayoutManager>
        </Grid>
    </dxb:BarManager>
</ribbon:DXRibbonWindow>