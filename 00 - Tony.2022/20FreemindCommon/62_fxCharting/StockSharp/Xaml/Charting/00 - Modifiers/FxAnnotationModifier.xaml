<charting:fxAnnotationCreationModifier
    x:Class="fx.Charting.FxAnnotationModifier"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ann="clr-namespace:fx.Charting.CustomAnnotations"
    xmlns:charting="clr-namespace:fx.Charting"
    xmlns:s="http://schemas.abtsoftware.co.uk/scichart"
    AnnotationCreated="fxAnnotationCreationModifier_AnnotationCreated"
    charting:fxAnnotationCreationModifier.XAxisId="X"
    charting:fxAnnotationCreationModifier.YAxisId="Y"
    s:ChartModifierBase.ReceiveHandledEvents="true">
    <FrameworkElement.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/SciChart.Charting;component/Themes/Default.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <Style BasedOn="{StaticResource AnnotationBaseStyle}" TargetType="{x:Type ann:RulerAnnotation}">
                <Setter Property="Control.Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ann:RulerAnnotation}">
                            <Grid x:Name="PART_AnnotationRoot" Background="Cornsilk">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid
                                    x:Name="PART_RulerArea"
                                    Width="{TemplateBinding ann:RulerAnnotation.RulerWidth}"
                                    Height="{TemplateBinding ann:RulerAnnotation.RulerHeight}"
                                    HorizontalAlignment="Center"
                                    Background="Cornsilk"
                                    Opacity="0.8"
                                    Row="0">
                                    <Line
                                        VerticalAlignment="Center"
                                        Stretch="Fill"
                                        Stroke="DimGray"
                                        StrokeDashArray="2,3"
                                        StrokeThickness="1"
                                        X1="0"
                                        X2="1"
                                        Y1="0"
                                        Y2="0" />
                                    <Line
                                        HorizontalAlignment="Center"
                                        Stretch="Fill"
                                        Stroke="DimGray"
                                        StrokeDashArray="2,3"
                                        StrokeThickness="1"
                                        X1="0"
                                        X2="0"
                                        Y1="0"
                                        Y2="1" />
                                </Grid>
                                <Border
                                    x:Name="PART_TextBorder"
                                    Grid.Row="1"
                                    Margin="0,5,0,0"
                                    HorizontalAlignment="Center"
                                    Background="#E05F9EA0"
                                    BorderThickness="0"
                                    CornerRadius="3"
                                    Padding="5,7">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <FrameworkElement.Resources>
                                            <Style TargetType="{x:Type TextBlock}">
                                                <Setter Property="TextBlock.Foreground" Value="White" />
                                                <Setter Property="TextBlock.FontSize" Value="14" />
                                                <Setter Property="TextBlock.FontWeight" Value="SemiBold" />
                                                <Setter Property="FrameworkElement.VerticalAlignment" Value="Center" />
                                            </Style>
                                        </FrameworkElement.Resources>
                                        <TextBlock Grid.Row="0" Text="{TemplateBinding ann:RulerAnnotation.Text1}" />
                                        <TextBlock Grid.Row="1" Text="{TemplateBinding ann:RulerAnnotation.Text2}" />
                                    </Grid>
                                </Border>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="TextAnnotationStyle" TargetType="{x:Type s:TextAnnotation}">
                <Setter Property="Control.Background" Value="#22B22020" />
                <Setter Property="Control.BorderThickness" Value="0" />
                <Setter Property="Control.Foreground" Value="#FF666666" />
                <Setter Property="s:AnnotationBase.XAxisId" Value="X" />
            </Style>
            <Style x:Key="BoxAnnotationStyle" TargetType="{x:Type s:BoxAnnotation}">
                <Setter Property="Control.BorderBrush" Value="#FF279B27" />
                <Setter Property="Control.Background" Value="#551964FF" />
                <Setter Property="Control.BorderThickness" Value="1" />
                <Setter Property="s:AnnotationBase.XAxisId" Value="X" />
            </Style>
            <Style x:Key="AxisMarkerAnnotationStyle" TargetType="{x:Type s:AxisMarkerAnnotation}">
                <Setter Property="Control.Background" Value="#FFFF6600" />
                <Setter Property="Control.FontSize" Value="11" />
                <Setter Property="Control.FontWeight" Value="Bold" />
                <Setter Property="Control.Foreground" Value="#FFEEEEEE" />
                <Setter Property="s:AnnotationBase.XAxisId" Value="X" />
            </Style>
            <Style x:Key="HorizontalLineAnnotationStyle" TargetType="{x:Type s:HorizontalLineAnnotation}">
                <Setter Property="s:LineAnnotationBase.Stroke" Value="#FFFF6600" />
                <Setter Property="s:LineAnnotationBase.StrokeThickness" Value="2" />
                <Setter Property="s:LineAnnotationWithLabelsBase.ShowLabel" Value="true" />
                <Setter Property="s:LineAnnotationWithLabelsBase.LabelPlacement" Value="Axis" />
                <Setter Property="s:HorizontalLineAnnotation.HorizontalAlignment" Value="Stretch" />
                <Setter Property="s:AnnotationBase.XAxisId" Value="X" />
            </Style>
            <Style x:Key="VerticalLineAnnotationStyle" TargetType="{x:Type s:VerticalLineAnnotation}">
                <Setter Property="s:LineAnnotationBase.Stroke" Value="#FFFF6600" />
                <Setter Property="s:LineAnnotationBase.StrokeThickness" Value="2" />
                <Setter Property="s:LineAnnotationWithLabelsBase.ShowLabel" Value="true" />
                <Setter Property="s:LineAnnotationWithLabelsBase.LabelPlacement" Value="Axis" />
                <Setter Property="s:VerticalLineAnnotation.VerticalAlignment" Value="Stretch" />
                <Setter Property="s:AnnotationBase.XAxisId" Value="X" />
            </Style>
            <Style x:Key="LineAnnotationStyle" TargetType="{x:Type s:LineAnnotation}">
                <Setter Property="s:LineAnnotationBase.Stroke" Value="#FF279B27" />
                <Setter Property="s:LineAnnotationBase.StrokeThickness" Value="2" />
                <Setter Property="s:AnnotationBase.XAxisId" Value="X" />
            </Style>
            <Style x:Key="LineArrowAnnotationStyle" TargetType="{x:Type s:LineArrowAnnotation}">
                <Setter Property="s:LineAnnotationBase.Stroke" Value="#FF279B27" />
                <Setter Property="s:LineAnnotationBase.StrokeThickness" Value="2" />
                <Setter Property="s:AnnotationBase.XAxisId" Value="X" />
            </Style>

        </ResourceDictionary>

    </FrameworkElement.Resources>
</charting:fxAnnotationCreationModifier>