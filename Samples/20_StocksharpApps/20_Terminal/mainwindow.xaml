<dx:ThemedWindow x:Class="StockSharp.Terminal.MainWindow"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
                 xmlns:sx="http://schemas.stocksharp.com/xaml"
                 xmlns:terminal="clr-namespace:StockSharp.Terminal"
                 xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                 xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
                 xmlns:controls="clr-namespace:StockSharp.Studio.Controls;assembly=StockSharp.Studio.Controls"
                 Closing="MainWindow_OnClosing" Loaded="MainWindow_OnLoaded" WindowState="Maximized"
                 UseLayoutRounding="True" DataContext="{Binding RelativeSource={RelativeSource Self}}"
                 Title="Demo Terminal">
  <FrameworkElement.Resources>
    
  </FrameworkElement.Resources>
  <UIElement.CommandBindings>
    <CommandBinding CanExecute="ConnectorSettingsCommand_OnCanExecute" Executed="ConnectorSettingsCommand_OnExecuted"
                    Command="{x:Static terminal:MainWindow.ConnectorSettingsCommand}"/>
    <CommandBinding CanExecute="ConnectDisconnectCommand_OnCanExecute" Executed="ConnectDisconnectCommand_OnExecuted"
                    Command="{x:Static terminal:MainWindow.ConnectDisconnectCommand}"/>
    <CommandBinding Executed="HelpCommand_OnExecuted" Command="{x:Static terminal:MainWindow.HelpCommand}"/>
    <CommandBinding Executed="AboutCommand_OnExecuted" Command="{x:Static terminal:MainWindow.AboutCommand}"/>
    <CommandBinding Executed="QuestionCommand_OnExecuted" Command="{x:Static terminal:MainWindow.QuestionCommand}"/>
    <CommandBinding Executed="CommonSettingsCommand_OnExecuted"
                    Command="{x:Static terminal:MainWindow.CommonSettingsCommand}"/>
    <CommandBinding Executed="ResetSettingsCommand_OnExecuted"
                    Command="{x:Static terminal:MainWindow.ResetSettingsCommand}"/>
    <CommandBinding CanExecute="SecuritiesMapping_OnCanExecute" Executed="SecuritiesMapping_OnExecuted"
                    Command="{x:Static terminal:MainWindow.SecuritiesMappingCommand}"/>
    <CommandBinding CanExecute="PortfoliosMapping_OnCanExecute" Executed="PortfoliosMapping_OnExecuted"
                    Command="{x:Static terminal:MainWindow.PortfoliosMappingCommand}"/>
    <CommandBinding CanExecute="EmulationSettingsCommand_OnCanExecute" Executed="EmulationSettingsCommand_OnExecuted"
                    Command="{x:Static terminal:MainWindow.EmulationSettingsCommand}"/>
    <CommandBinding CanExecute="RenameAreaCommand_OnCanExecute" Executed="RenameAreaCommand_OnExecuted"
                    Command="{x:Static terminal:MainWindow.RenameAreaCommand}"/>
    <CommandBinding Executed="BugReportCommand_OnExecuted" Command="{x:Static terminal:MainWindow.BugReportCommand}"/>
    <CommandBinding Executed="ThemeCommand_OnExecuted" Command="{x:Static terminal:MainWindow.ThemeCommand}"/>
  </UIElement.CommandBindings>
  <dx:ThemedWindow.HeaderItems>
    <dx:HeaderItemControl Command="{x:Static terminal:MainWindow.ThemeCommand}" ToolTip="{sx:Localization ChangeTheme}">
      <sx:ThemeImage VerticalAlignment="Center" Height="16" Width="16" Margin="0"/>
    </dx:HeaderItemControl>
    <dx:HeaderItemControl Command="{x:Static terminal:MainWindow.HelpCommand}" ToolTip="{sx:Localization Help}">
      <Image VerticalAlignment="Center" Height="16" Width="16" Margin="0" Source="{sx:ThemedIcons Key=Help}"/>
    </dx:HeaderItemControl>
    <dx:HeaderItemControl Command="{x:Static terminal:MainWindow.BugReportCommand}" ToolTip="{sx:Localization ReportProblem}">
      <Image VerticalAlignment="Center" Height="16" Width="16" Margin="0" Source="{sx:ThemedIcons Key=Debug}"/>
    </dx:HeaderItemControl>
    <dx:HeaderItemControl Command="{x:Static terminal:MainWindow.QuestionCommand}" ToolTip="{sx:Localization ContactUs}">
      <Image VerticalAlignment="Center" Height="16" Width="16" Margin="0" Source="{sx:ThemedIcons Key=Chat}"/>
    </dx:HeaderItemControl>
  </dx:ThemedWindow.HeaderItems>
  <dx:ThemedWindow.ToolbarItems>
    <dxb:MainMenuControl VerticalAlignment="Center" ShowBackground="False">
      <dxb:BarSubItem Content="{sx:Localization Connect}" ToolTip="{sx:Localization Connect}">
        <dxb:BarButtonItem x:Name="ConnectButton" Command="{x:Static terminal:MainWindow.ConnectDisconnectCommand}"
                           Content="{sx:Localization Connect}" ToolTip="{sx:Localization Connect}"
                           Glyph="{sx:ThemedIcons Key=Connect}"/>
        <dxb:BarButtonItem Command="{x:Static terminal:MainWindow.ConnectorSettingsCommand}"
                           Content="{sx:Localization ConnectionSettings}" ToolTip="{sx:Localization ConnectionSettings}"
                           Glyph="{sx:ThemedIcons Key=Settings}"/>
        <dxb:BarButtonItem Command="{x:Static terminal:MainWindow.EmulationSettingsCommand}"
                           Content="{sx:Localization SimulatorSettings}" ToolTip="{sx:Localization SimulatorSettings}"
                           Glyph="{sx:ThemedIcons Key=Game}"/>
      </dxb:BarSubItem>
      <dxb:BarSubItem Content="{sx:Localization Settings}" ToolTip="{sx:Localization Settings}">
        <dxb:BarButtonItem Command="{x:Static terminal:MainWindow.CommonSettingsCommand}" Content="{sx:Localization Settings}"
                           Glyph="{sx:ThemedIcons Key=Settings}"/>
        <dxb:BarButtonItem Command="{x:Static terminal:MainWindow.ResetSettingsCommand}"
                           Content="{sx:Localization ResetSettings}" Glyph="{sx:ThemedIcons Key=Refresh}"/>
      </dxb:BarSubItem>
      <dxb:BarSubItem x:Name="ViewMenu" Content="{sx:Localization View}">
        <dxb:BarButtonItem ItemClick="AddWorkArea_ItemClick" Content="{sx:Localization Area}"
                           ToolTip="{sx:Localization CreateWorkArea}" Glyph="{sx:ThemedIcons Key=CascadeWindows}"/>
        <dxb:BarItemSeparator/>
      </dxb:BarSubItem>
    </dxb:MainMenuControl>
  </dx:ThemedWindow.ToolbarItems>
  <dxb:BarManager>
    <Grid Margin="3">
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>
      <dxdo:DockLayoutManager LayoutItemActivated="DockingManager_OnLayoutItemActivated"
                              DockItemActivated="DockingManager_OnDockItemActivated"
                              DockItemClosed="DockingManager_OnDockItemClosed" x:Name="DockingManager" Grid.Row="0"
                              FloatingMode="Desktop" DockingStyle="VS2010" AllowDockItemRename="True"
                              ClosingBehavior="ImmediatelyRemove" FloatingDocumentContainer="DocumentHost">
        <dxdo:DockLayoutManager.ContextMenuCustomizations>
          <dxb:BarButtonItem x:Name="bRename" Content="{x:Static terminal:MainWindow.RenameCommandTitle}"
                             dxb:BarItemLinkActionBase.ItemLinkIndex="0"
                             Command="{x:Static terminal:MainWindow.RenameAreaCommand}"/>
          <dxb:InsertBarItemLinkAction ItemLinkIndex="1">
            <dxb:BarItemLinkSeparator/>
          </dxb:InsertBarItemLinkAction>
        </dxdo:DockLayoutManager.ContextMenuCustomizations>
        <dxdo:LayoutGroup Name="Root" TabContentCacheMode="CacheAllTabs">
          <dxdo:DocumentGroup Name="DocumentHost" AutoScrollOnOverflow="PartiallyVisibleItem" DestroyOnClosingChildren="False"
                              ClosePageButtonShowMode="InAllTabPageHeaders"/>
        </dxdo:LayoutGroup>
      </dxdo:DockLayoutManager>
      <controls:StatusBarPanel x:Name="StatusBarPanel" Grid.Row="1"/>
    </Grid>
  </dxb:BarManager>
</dx:ThemedWindow>