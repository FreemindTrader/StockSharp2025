<s:CustomAnnotation
    x:Class="fx.Charting.CustomAnnotations.NewsAnnotation"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:s="http://schemas.abtsoftware.co.uk/scichart"
    CoordinateMode="{Binding CoordinateMode}"
    HorizontalAnchorPoint="Center"
    VerticalAnchorPoint="Bottom"
    X1="{Binding X1}"
    Y1="{Binding Y1}">

    <s:CustomAnnotation.Resources>
        <LinearGradientBrush x:Key="newsBulletBackground" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Offset="0.5" Color="#FFF" />
            <GradientStop Offset="1" Color="#77C0D4EE" />
        </LinearGradientBrush>
    </s:CustomAnnotation.Resources>

    <Grid>

        <!--  Low-cost drop shadow  -->
        <Border
            Margin="2,2,0,0"
            Background="#333"
            BorderBrush="#333"
            BorderThickness="1"
            CornerRadius="2"
            Opacity="0.8" />

        <!--  News bullet body  -->
        <Border
            Background="{StaticResource newsBulletBackground}"
            BorderBrush="#555"
            BorderThickness="1"
            CornerRadius="2">
            <TextBlock
                Padding="3"
                FontSize="10"
                FontWeight="Bold"
                Text="N" />
        </Border>

        <!--
            Creating the tooltip. In the TradeOverlayExampleViewModel we set a News
            object as datacontext of this annotation
        -->
        <ToolTipService.ToolTip>
            <ToolTip Foreground="#222">
                <Grid
                    MaxWidth="150"
                    MaxHeight="100"
                    Margin="6"
                    DataContext="{Binding NewsData}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <TextBlock
                        Grid.Row="0"
                        FontSize="13"
                        FontWeight="Bold"
                        Text="{Binding Headline}" />
                    <TextBlock
                        Grid.Row="1"
                        FontStyle="Italic"
                        Text="{Binding EventDate}" />
                    <TextBlock Grid.Row="2" Text="{Binding Body}" />
                    <!--  TextTrimming="Ellipsis"/>  -->
                    <TextBlock
                        Grid.Row="3"
                        Foreground="#3333FF"
                        Text="[Read More]" />
                </Grid>
            </ToolTip>
        </ToolTipService.ToolTip>
    </Grid>

</s:CustomAnnotation>





