// Decompiled with JetBrains decompiler
// Type: #=zriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw=
// Assembly: StockSharp.Xaml.Charting, Version=5.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B81ABC38-30E9-4E5C-D0FB-A30B79FCF2D6
// Assembly location: C:\Users\tonyfreemind\AppData\Local\StockSharp\products\apps_terminal\StockSharp.Xaml.Charting.dll
// XML documentation location: C:\Users\tonyfreemind\AppData\Local\StockSharp\products\apps_terminal\StockSharp.Xaml.Charting.xml

using \u002D;
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Windows;
using System.Windows.Media;
using System.Windows.Shapes;

#nullable disable
internal sealed class \u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D : 
  dje_zP6VTXEU8B2YELVEGUZAJ27BBHF7M9YENVCNNCT32898EYMRSJSW3C8HB7ESPM23CV4LS4ST64EQZFBA_ejd
{
  [DebuggerBrowsable(DebuggerBrowsableState.Never)]
  public static readonly DependencyProperty \u0023\u003DzWsyKEigY1Lm6 = DependencyProperty.Register(XXX.SSS(-539440178), typeof (Color), typeof (\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D), new PropertyMetadata((object) new Color(), new PropertyChangedCallback(\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003Dz15moWio\u003D)));
  [DebuggerBrowsable(DebuggerBrowsableState.Never)]
  public static readonly DependencyProperty \u0023\u003DzgLLxE9j2DbxR = DependencyProperty.Register(XXX.SSS(-539440366), typeof (bool), typeof (\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D), new PropertyMetadata((object) true, new PropertyChangedCallback(\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003Dz15moWio\u003D)));
  [DebuggerBrowsable(DebuggerBrowsableState.Never)]
  public static readonly DependencyProperty \u0023\u003DzuajeYkUJAgVf = DependencyProperty.Register(XXX.SSS(-539440131), typeof (double), typeof (\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D), new PropertyMetadata((object) 1.0, new PropertyChangedCallback(\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003Dz15moWio\u003D)));
  [DebuggerBrowsable(DebuggerBrowsableState.Never)]
  private \u0023\u003Dzh5FljKv\u0024Q_lDTADyTGyZRTX9mDWGkJVnFV25iog\u003D<\u0023\u003DzV9O5tWduWosGLvu_87Zf5PVzyNyECV88SquxH0BDrCzw3R4A1g\u003D\u003D> \u0023\u003DzjADvNnzgrrZX;
  [DebuggerBrowsable(DebuggerBrowsableState.Never)]
  private Type \u0023\u003DzOHJ1xBv\u0024k2wEJE7MOQ\u003D\u003D;
  [DebuggerBrowsable(DebuggerBrowsableState.Never)]
  private double \u0023\u003DztqN4q7SP3Lir;

  public \u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D()
  {
    this.DefaultStyleKey = (object) typeof (\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D);
  }

  public Color BubbleColor
  {
    get
    {
      return (Color) this.GetValue(\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003DzWsyKEigY1Lm6);
    }
    set
    {
      this.SetValue(\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003DzWsyKEigY1Lm6, (object) value);
    }
  }

  public bool AutoZRange
  {
    get
    {
      return (bool) this.GetValue(\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003DzgLLxE9j2DbxR);
    }
    set
    {
      this.SetValue(\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003DzgLLxE9j2DbxR, (object) value);
    }
  }

  public double ZScaleFactor
  {
    get
    {
      return (double) this.GetValue(\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003DzuajeYkUJAgVf);
    }
    set
    {
      this.SetValue(\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003DzuajeYkUJAgVf, (object) value);
    }
  }

  protected override \u0023\u003Dzu7d8MJ0yYYsoCxUauUw1x5zQ41nis3yh_pqZLdchDrVSrVYHh6WyiGY\u003D \u0023\u003Dz__R3\u0024ryThR5H(
    Point _param1,
    double _param2,
    bool _param3)
  {
    \u0023\u003Dzu7d8MJ0yYYsoCxUauUw1x5zQ41nis3yh_pqZLdchDrVSrVYHh6WyiGY\u003D zldchDrVsrVyHh6WyiGy = base.\u0023\u003Dz__R3\u0024ryThR5H(_param1, _param2, false);
    return this.\u0023\u003Dz1SLEyANHenbwANn\u0024\u0024w\u003D\u003D(_param1, zldchDrVsrVyHh6WyiGy, _param2);
  }

  protected override bool \u0023\u003DzO6mZ0OGu\u0024l6W(
    Point _param1,
    Rect _param2,
    \u0023\u003Dzu7d8MJ0yYYsoCxUauUw1x5zQ41nis3yh_pqZLdchDrVSrVYHh6WyiGY\u003D _param3)
  {
    double x = _param3.\u0023\u003DzxZfJER0dbHuS().X;
    double y = _param3.\u0023\u003DzxZfJER0dbHuS().Y;
    double num1 = this.\u0023\u003Dz0BW39IBfgPEn(_param3.ZValue.\u0023\u003Dzb9UCYbo\u003D());
    _param2 = new Rect(x - num1 / 2.0, y - num1 / 2.0, num1, num1);
    double num2 = num1 / 2.0;
    double num3 = _param1.X - (_param2.Left + _param2.Right) / 2.0;
    double num4 = _param1.Y - (_param2.Top + _param2.Bottom) / 2.0;
    return Math.Sqrt(num3 * num3 + num4 * num4) <= num2;
  }

  protected override void \u0023\u003Dz_mrkCOu7iZTY(
    \u0023\u003DzlIIQe9QryEp0zlHhxjV_2ax18wWJMvXdEDq1k7UiFd2I _param1,
    \u0023\u003Dz0w5QTi_Hwx2Q\u0024WqRdQ\u0024aZaScol6ORWm4rPwbPViMZ4rNexJsSmCJpOM\u003D _param2)
  {
    \u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003DzWDeT\u0024CyLvtppRwsYCyoelU8\u003D lvtppRwsYcyoelU8 = new \u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D.\u0023\u003DzWDeT\u0024CyLvtppRwsYCyoelU8\u003D();
    lvtppRwsYcyoelU8.\u0023\u003DzRRvwDu67s9Rm = this;
    lvtppRwsYcyoelU8.\u0023\u003DzC8v0b7k\u003D = _param1;
    this.\u0023\u003Dzz7UraMUVt1cf<\u0023\u003DzY1parMP7PqVgyyAK9GT367XZG1kfRcCjaxEzD51YrPC6>(XXX.SSS(-539340330));
    this.\u0023\u003DzkAaadumBrkGDUOayKw\u003D\u003D(lvtppRwsYcyoelU8.\u0023\u003DzC8v0b7k\u003D);
    lvtppRwsYcyoelU8.\u0023\u003DzwV3z9AqDNSkfc9UcQQ\u003D\u003D = new Color?();
    this.\u0023\u003Dzaz03IrKOXb2QTOxwkg\u003D\u003D(_param2, new Action<double, double, double, Rect>(lvtppRwsYcyoelU8.\u0023\u003Dz9WeCEzhdx4LBOIEZGg\u003D\u003D));
  }

  private void \u0023\u003DzkAaadumBrkGDUOayKw\u003D\u003D(
    \u0023\u003DzlIIQe9QryEp0zlHhxjV_2ax18wWJMvXdEDq1k7UiFd2I _param1)
  {
    Type type = _param1.GetType();
    if (this.\u0023\u003DzjADvNnzgrrZX != null && this.\u0023\u003DzOHJ1xBv\u0024k2wEJE7MOQ\u003D\u003D == type)
      return;
    if (this.\u0023\u003DzjADvNnzgrrZX != null)
    {
      this.\u0023\u003DzjADvNnzgrrZX.Dispose();
      this.\u0023\u003DzjADvNnzgrrZX = (\u0023\u003Dzh5FljKv\u0024Q_lDTADyTGyZRTX9mDWGkJVnFV25iog\u003D<\u0023\u003DzV9O5tWduWosGLvu_87Zf5PVzyNyECV88SquxH0BDrCzw3R4A1g\u003D\u003D>) null;
    }
    \u0023\u003DzlIIQe9QryEp0zlHhxjV_2ax18wWJMvXdEDq1k7UiFd2I mvXdEdq1k7UiFd2I = _param1;
    Ellipse ellipse = new Ellipse();
    ellipse.Width = 300.0;
    ellipse.Height = 300.0;
    ellipse.Fill = (Brush) new RadialGradientBrush(new GradientStopCollection()
    {
      new GradientStop()
      {
        Color = Colors.Transparent,
        Offset = 0.0
      },
      new GradientStop()
      {
        Color = this.BubbleColor,
        Offset = 0.95
      },
      new GradientStop()
      {
        Color = Colors.Transparent,
        Offset = 1.0
      }
    });
    this.\u0023\u003DzjADvNnzgrrZX = new \u0023\u003Dzh5FljKv\u0024Q_lDTADyTGyZRTX9mDWGkJVnFV25iog\u003D<\u0023\u003DzV9O5tWduWosGLvu_87Zf5PVzyNyECV88SquxH0BDrCzw3R4A1g\u003D\u003D>(mvXdEdq1k7UiFd2I.\u0023\u003DzC1WFQPaV7rDp((FrameworkElement) ellipse));
    this.\u0023\u003DzOHJ1xBv\u0024k2wEJE7MOQ\u003D\u003D = type;
  }

  private void \u0023\u003Dzaz03IrKOXb2QTOxwkg\u003D\u003D(
    \u0023\u003Dz0w5QTi_Hwx2Q\u0024WqRdQ\u0024aZaScol6ORWm4rPwbPViMZ4rNexJsSmCJpOM\u003D _param1,
    Action<double, double, double, Rect> _param2)
  {
    \u0023\u003Dz6SSn5QQkepq6NeBmeacJnK_qtBWB9G5KlgWK_lJR7a0x b9G5KlgWkLJr7a0x = _param1.\u0023\u003DzSKfyjpipx8dI() as \u0023\u003Dz6SSn5QQkepq6NeBmeacJnK_qtBWB9G5KlgWK_lJR7a0x;
    int num1 = b9G5KlgWkLJr7a0x.\u0023\u003DzlpVGw6E\u003D();
    this.\u0023\u003DztqN4q7SP3Lir = 0.0;
    bool flag = _param1.\u0023\u003DzDoU1CJhSUWFV();
    \u0023\u003DzY1parMP7PqVgyyAK9GT367XZG1kfRcCjaxEzD51YrPC6 rcCjaxEzD51YrPc6;
    if (this.AutoZRange)
    {
      for (int index = 0; index < num1; ++index)
      {
        rcCjaxEzD51YrPc6 = (b9G5KlgWkLJr7a0x[index] as \u0023\u003DzzSC94lsu\u00242WfTPlDSLyhlFgNgyQmIWzGYVO4YAqDKpiI<\u0023\u003DzY1parMP7PqVgyyAK9GT367XZG1kfRcCjaxEzD51YrPC6>).\u0023\u003DzPqsSI6C5MOOb();
        double num2 = rcCjaxEzD51YrPc6.\u0023\u003DzM49\u0024G3E\u003D();
        if (num2 > this.\u0023\u003DztqN4q7SP3Lir)
          this.\u0023\u003DztqN4q7SP3Lir = num2;
      }
    }
    for (int index = 0; index < num1; ++index)
    {
      \u0023\u003DzzSC94lsu\u00242WfTPlDSLyhlFgNgyQmIWzGYVO4YAqDKpiI<\u0023\u003DzY1parMP7PqVgyyAK9GT367XZG1kfRcCjaxEzD51YrPC6> iwzGyvO4YaqDkpiI = b9G5KlgWkLJr7a0x[index] as \u0023\u003DzzSC94lsu\u00242WfTPlDSLyhlFgNgyQmIWzGYVO4YAqDKpiI<\u0023\u003DzY1parMP7PqVgyyAK9GT367XZG1kfRcCjaxEzD51YrPC6>;
      double num3 = iwzGyvO4YaqDkpiI.\u0023\u003Dz2_4KSTY\u003D();
      rcCjaxEzD51YrPc6 = iwzGyvO4YaqDkpiI.\u0023\u003DzPqsSI6C5MOOb();
      double d = rcCjaxEzD51YrPc6.\u0023\u003Dzu7q98_E\u003D();
      rcCjaxEzD51YrPc6 = iwzGyvO4YaqDkpiI.\u0023\u003DzPqsSI6C5MOOb();
      double num4 = rcCjaxEzD51YrPc6.\u0023\u003DzM49\u0024G3E\u003D();
      if (!double.IsNaN(d))
      {
        double num5 = this.\u0023\u003Dz0BW39IBfgPEn(num4);
        Point point1 = this.\u0023\u003Dzop6vn0GowyiR((float) (int) _param1.\u0023\u003DzALAI0HJjgPAt2SK7K6oMPzM\u003D().\u0023\u003DzhL6gsJw\u003D(num3), (float) (int) _param1.\u0023\u003DzYYiX3TcVi5rbqTSkh06tXQM\u003D().\u0023\u003DzhL6gsJw\u003D(d), flag);
        Point point2 = _param1.\u0023\u003Dzy9phceyLTfoo().\u0023\u003DzsTReN_n58EEf(point1);
        _param2(num3, d, num4, new Rect(point2.X - num5 / 2.0, point2.Y - num5 / 2.0, num5, num5));
      }
    }
  }

  private double \u0023\u003Dz0BW39IBfgPEn(double _param1)
  {
    double num = _param1 * this.ZScaleFactor;
    if (this.AutoZRange)
      num = 300.0 * _param1 / this.\u0023\u003DztqN4q7SP3Lir;
    return num;
  }

  private static void \u0023\u003Dz15moWio\u003D(
    DependencyObject _param0,
    DependencyPropertyChangedEventArgs _param1)
  {
    \u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D b5lfOfnUo8w7EyJw = (\u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D) _param0;
    b5lfOfnUo8w7EyJw.\u0023\u003DzjADvNnzgrrZX = (\u0023\u003Dzh5FljKv\u0024Q_lDTADyTGyZRTX9mDWGkJVnFV25iog\u003D<\u0023\u003DzV9O5tWduWosGLvu_87Zf5PVzyNyECV88SquxH0BDrCzw3R4A1g\u003D\u003D>) null;
    b5lfOfnUo8w7EyJw.\u0023\u003Dzmf\u0024vfR3OJQU9();
  }

  private sealed class \u0023\u003DzWDeT\u0024CyLvtppRwsYCyoelU8\u003D
  {
    public \u0023\u003DzriJlGz16EBVXNzRMW4Dc4qQp2pUUzikJpe9JEpGuGxRAFL8yxU2NwKkB5lfOfnUo8w7EyJw\u003D \u0023\u003DzRRvwDu67s9Rm;
    public Color? \u0023\u003DzwV3z9AqDNSkfc9UcQQ\u003D\u003D;
    public \u0023\u003DzlIIQe9QryEp0zlHhxjV_2ax18wWJMvXdEDq1k7UiFd2I \u0023\u003DzC8v0b7k\u003D;

    internal void \u0023\u003Dz9WeCEzhdx4LBOIEZGg\u003D\u003D(
      double _param1,
      double _param2,
      double _param3,
      Rect _param4)
    {
      if (this.\u0023\u003DzRRvwDu67s9Rm.PaletteProvider != null)
        this.\u0023\u003DzwV3z9AqDNSkfc9UcQQ\u003D\u003D = this.\u0023\u003DzRRvwDu67s9Rm.PaletteProvider.\u0023\u003DzLCyKrYI\u003D((\u0023\u003DzA\u0024A4W5SfT\u0024DiuyUN7UYciXZRQS6mpDuG09xUExO4eQukbot9S1JOL\u0024YRWoYpqmQ6ug\u003D\u003D) this.\u0023\u003DzRRvwDu67s9Rm, _param1, _param2, _param3);
      if (this.\u0023\u003DzwV3z9AqDNSkfc9UcQQ\u003D\u003D.HasValue)
      {
        using (\u0023\u003DzoiCXU3qThVGehVE_V2hzF44e\u0024nRHwYsZxA33iRU6ID7J rhwYsZxA33iRu6Id7J = this.\u0023\u003DzC8v0b7k\u003D.\u0023\u003DzL3In9ls\u003D(this.\u0023\u003DzwV3z9AqDNSkfc9UcQQ\u003D\u003D.Value, this.\u0023\u003DzRRvwDu67s9Rm.AntiAliasing, (float) this.\u0023\u003DzRRvwDu67s9Rm.StrokeThickness, this.\u0023\u003DzRRvwDu67s9Rm.Opacity, (double[]) null, PenLineCap.Round))
        {
          using (\u0023\u003Dz9V3XmNblPtIESO78oE\u0024lpXRgcdFB\u0024SdWGN9GCT8\u003D xrgcdFbSdWgN9GcT8 = this.\u0023\u003DzC8v0b7k\u003D.\u0023\u003Dze8WyDhI\u003D(this.\u0023\u003DzwV3z9AqDNSkfc9UcQQ\u003D\u003D.Value, this.\u0023\u003DzRRvwDu67s9Rm.Opacity, new bool?()))
            this.\u0023\u003DzC8v0b7k\u003D.\u0023\u003DzIZCdW2WR6Rxw(rhwYsZxA33iRu6Id7J, xrgcdFbSdWgN9GcT8, new Point(_param4.X + _param4.Width * 0.5, _param4.Y + _param4.Height * 0.5), _param4.Width, _param4.Height);
        }
      }
      else
        this.\u0023\u003DzC8v0b7k\u003D.\u0023\u003DzsdRDlCsxeeTGJXELSQ\u003D\u003D(this.\u0023\u003DzRRvwDu67s9Rm.\u0023\u003DzjADvNnzgrrZX.\u0023\u003DzQAdOJsjJeOwf(), (IEnumerable<Rect>) new Rect[1]
        {
          _param4
        });
    }
  }
}
